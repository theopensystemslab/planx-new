import{v as E,w as M,j as e,s as o,B as s,n as U,a1 as h,T as u,a2 as C,r as f,ah as N,u as W,I as _,x as B,ai as Y,L as J,aj as K,ak as Q,al as X,am as ee,ag as ne}from"./index-CFPw1vJP.js";import{e as k,g as y,h as A,i as g,j as te,k as ae,l as re,m as se,E as ie}from"./Questions-D-dg2tg0.js";import{H as oe,j as ce}from"./Header-p4OIyhRV.js";var T={},le=M;Object.defineProperty(T,"__esModule",{value:!0});var I=T.default=void 0,de=le(E()),ue=e,he=(0,de.default)((0,ue.jsx)("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9v1zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7z"}),"Lightbulb");I=T.default=he;var R={},xe=M;Object.defineProperty(R,"__esModule",{value:!0});var F=R.default=void 0,pe=xe(E()),me=e,je=(0,pe.default)((0,me.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");F=R.default=je;const fe=o(s)(({theme:n})=>({width:"100%",backgroundColor:n.palette.background.paper})),be=o(U)(({theme:n})=>({backgroundColor:n.palette.common.white,color:n.palette.primary.main,padding:"0.7em 1em"})),ke=o(s)(({theme:n})=>({width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:n.spacing(1),padding:n.spacing(.75,0)})),ge=o(s)(({theme:n})=>({display:"flex",justifyContent:"start",alignItems:"start",flexDirection:"column",textWrap:"balance",padding:n.spacing(.5,1,.5,0),gap:n.spacing(.5),[n.breakpoints.up("sm")]:{flexDirection:"row",gap:n.spacing(1)}})),Ce=o(s)(({theme:n})=>({betaIcon:{width:"100%",[n.breakpoints.up("sm")]:{width:"auto",marginRight:n.spacing(2)}}}));function ve(n){const t=i=>{i.preventDefault(),n.handleFeedbackClick()};return e.jsx(fe,{children:e.jsx(h,{maxWidth:"contentWrap",children:e.jsxs(ke,{children:[e.jsxs(ge,{children:[e.jsx(Ce,{bgcolor:"primary.dark",color:"white",display:"flex",alignItems:"flex-start",flexBasis:0,px:1,py:.5,fontSize:14,textAlign:"center",whiteSpace:"nowrap",fontWeight:600,children:"PUBLIC BETA"}),e.jsxs(u,{variant:"body2",color:"textPrimary",textAlign:"left",mt:"0.2em",children:["This is a new service. Your"," ",e.jsx(C,{href:"#",sx:{verticalAlign:"top"},onClick:t,children:"feedback"})," ","will help us improve it."]})]}),e.jsx(be,{onClick:()=>n.handleReportAnIssueClick(),children:"Report an issue with this page"})]})})})}const x=o(s)(({theme:n})=>({backgroundColor:n.palette.background.paper,borderTop:`1px solid ${n.palette.border.main}`})),p=o(s)(({theme:n})=>({maxWidth:n.breakpoints.values.formWrap,padding:n.spacing(2,0,4)})),S=o(s)(({theme:n})=>({padding:n.spacing(1,0),position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center"})),j=o(s)(({theme:n})=>({position:"relative",display:"flex",alignItems:"center","& svg":{width:"28px",height:"auto",color:n.palette.primary.dark,marginRight:n.spacing(1)}})),L=o("div")(({theme:n})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",color:n.palette.text.primary})),m=o(s)(({theme:n})=>({maxWidth:n.breakpoints.values.formWrap})),we=()=>{const[n,t]=f.useState("banner"),i=N(n),l=W(a=>a.breadcrumbs);f.useEffect(()=>{n==="thanks"&&t("banner")},[l]);const b=f.useRef(null),v=()=>{switch(n){case"banner":case"thanks":return!1;default:return!0}};f.useEffect(()=>{var a;v()&&((a=b.current)==null||a.scrollIntoView({behavior:"smooth",block:"start"}))},[n]);function d(a){switch(a){case"close":t("banner");break;case"back":t("triage");break;default:t(a);break}}async function r(a){const Z={...await te(),...{feedbackType:n},...a};await ae(Z),t("thanks")}function c(){return e.jsxs(S,{children:[e.jsxs(re,{onClick:()=>d("back"),children:[e.jsx(se,{fontSize:"small"}),"Back"]}),e.jsx(L,{onClick:()=>d("close"),children:e.jsx(_,{role:"button",title:"Close panel","aria-label":"Close panel",size:"large",color:"inherit",children:e.jsx(B,{})})})]})}function w(a){return e.jsxs(S,{children:[e.jsxs(j,{children:[a.Icon&&e.jsx(a.Icon,{}),e.jsx(u,{variant:"h3",component:"h2",children:a.title})]}),e.jsx(L,{onClick:()=>d("close"),children:e.jsx(_,{role:"button",title:"Close panel","aria-label":"Close panel",size:"large",color:"inherit",children:e.jsx(B,{})})})]})}function H(){return i==="banner"?e.jsx(w,{Icon:y,title:"Report an issue"}):e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs(j,{children:[e.jsx(y,{}),e.jsx(u,{variant:"h3",component:"h2",children:"Report an issue"})]})]})}function P(){return e.jsx(x,{children:e.jsx(ve,{handleFeedbackClick:()=>d("triage"),handleReportAnIssueClick:()=>d("issue")})})}function $(){return e.jsx(x,{children:e.jsx(h,{maxWidth:"contentWrap",children:e.jsxs(p,{children:[e.jsx(w,{title:"What would you like to share?"}),e.jsxs(m,{children:[e.jsx(k,{onClick:()=>d("issue"),Icon:y,label:"Issue",showArrow:!0}),e.jsx(k,{onClick:()=>d("idea"),Icon:I,label:"Idea",showArrow:!0}),e.jsx(k,{onClick:()=>d("comment"),Icon:F,label:"Comment",showArrow:!0}),e.jsx(k,{onClick:()=>d("inaccuracy"),Icon:A,label:"Inaccuracy",showArrow:!0})]})]})})})}function z(){const a=[{name:"userContext",label:"What were you doing?",id:"issue-input-1"},{name:"userComment",label:"What went wrong?",id:"issue-input-2"}];return e.jsx(x,{children:e.jsx(h,{maxWidth:"contentWrap",children:e.jsxs(p,{children:[e.jsx(H,{}),e.jsx(m,{children:e.jsx(g,{inputs:a,handleSubmit:r})})]})})})}function V(){const a=[{name:"userComment",label:"What data is inaccurate?",id:"inaccuracy-input"}];return e.jsx(x,{children:e.jsx(h,{maxWidth:"contentWrap",children:e.jsxs(p,{children:[e.jsx(c,{}),e.jsxs(j,{children:[e.jsx(A,{}),e.jsx(u,{variant:"h3",component:"h2",id:"idea-title",children:"Report an inaccuracy"})]}),e.jsx(m,{children:e.jsx(g,{inputs:a,handleSubmit:r})})]})})})}function D(){const a=[{name:"userComment",label:"What's your idea?",id:"share-idea-input"}];return e.jsx(x,{children:e.jsx(h,{maxWidth:"contentWrap",children:e.jsxs(p,{children:[e.jsx(c,{}),e.jsxs(j,{children:[e.jsx(I,{}),e.jsx(u,{variant:"h3",component:"h2",id:"idea-title",children:"Share an idea"})]}),e.jsx(m,{children:e.jsx(g,{inputs:a,handleSubmit:r})})]})})})}function O(){const a=[{name:"userComment",label:"What's you comment?",id:"comment-input"}];return e.jsx(x,{children:e.jsx(h,{maxWidth:"contentWrap",children:e.jsxs(p,{children:[e.jsx(c,{}),e.jsxs(j,{children:[e.jsx(F,{}),e.jsx(u,{variant:"h3",component:"h2",id:"comment-title",children:"Share a comment"})]}),e.jsx(m,{children:e.jsx(g,{inputs:a,handleSubmit:r})})]})})})}function G(){return e.jsx(x,{children:e.jsx(h,{maxWidth:"contentWrap",children:e.jsxs(p,{children:[e.jsx(w,{title:"Thank you for your feedback."}),e.jsx(m,{children:e.jsx(u,{variant:"body1",children:"We value the time you’ve taken to share. We’ll use your insights to improve our services."})})]})})})}function q(){switch(n){case"banner":return e.jsx(P,{});case"triage":return e.jsx($,{});case"issue":return e.jsx(z,{});case"idea":return e.jsx(D,{});case"comment":return e.jsx(O,{});case"inaccuracy":return e.jsx(V,{});case"thanks":return e.jsx(G,{})}}return e.jsx(s,{ref:b,children:e.jsx(q,{})})},ye="data:image/svg+xml,%3csvg%20width='41'%20height='17'%20viewBox='0%200%2041%2017'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M35.7608%2012.1142V0.009552L31.4597%202.75187V16.4153H41V12.1142H35.7608Z'%20fill='white'/%3e%3cpath%20d='M25.3881%2011.306C24.6856%2011.9267%2023.7619%2012.3019%2022.7516%2012.3019C20.5481%2012.3019%2018.7536%2010.5074%2018.7536%208.30392C18.7536%206.10045%2020.5481%204.30591%2022.7516%204.30591C24.166%204.30591%2025.4121%205.04682%2026.1241%206.15818L29.7517%203.84886C28.2699%201.53473%2025.6863%200%2022.7516%200C19.6581%200%2016.9542%201.70312%2015.5253%204.21931C14.0965%201.70312%2011.3974%200%208.29911%200C3.72377%200%200%203.72377%200%208.29911C0%2012.8744%203.72377%2016.5982%208.29911%2016.5982C11.3926%2016.5982%2014.0965%2014.8951%2015.5253%2012.3789C16.9542%2014.8951%2019.6532%2016.5982%2022.7516%2016.5982C24.8444%2016.5982%2026.7592%2015.8188%2028.2218%2014.5343L29.872%2016.4154H30.127V8.96785H23.3385L25.3881%2011.306ZM8.29911%2012.3019C6.09563%2012.3019%204.3011%2010.5074%204.3011%208.30392C4.3011%206.10045%206.09563%204.30591%208.29911%204.30591C10.5026%204.30591%2012.2971%206.10045%2012.2971%208.30392C12.3019%2010.5074%2010.5074%2012.3019%208.29911%2012.3019Z'%20fill='white'/%3e%3c/svg%3e",Ie=o("footer")(({theme:n})=>({color:n.palette.common.white,backgroundColor:n.palette.common.black,padding:n.spacing(2,0),[n.breakpoints.up("md")]:{padding:n.spacing(3,0)}})),Fe=o(s)(({theme:n})=>({columnGap:n.spacing(3),textTransform:"capitalize",display:"flex",flexWrap:"wrap",[n.breakpoints.up("xs")]:{flexDirection:"column"},[n.breakpoints.up("md")]:{flexDirection:"row"}}));function We(n){const{items:t,children:i}=n;return e.jsx(Ie,{children:e.jsxs(h,{maxWidth:!1,children:[e.jsx(Fe,{py:.5,children:t==null?void 0:t.filter(l=>l.title).map(l=>f.createElement(Te,{...l,key:l.title}))}),e.jsx(s,{py:2,children:i})]})})}function Te(n){const t=e.jsx(u,{variant:"body2",sx:{fontWeight:n.bold?Y:"regular"},children:n.title.toLowerCase()});return n.href?e.jsx(C,{color:"inherit",component:J,href:n.href,prefetch:!1,target:n.newTab?"_blank":"",rel:n.newTab?"noopener":"",children:t}):e.jsx(C,{color:"inherit",component:"button",onClick:n.onClick,children:t})}const Re=o(s)(({theme:n})=>({borderTop:`1px solid ${n.palette.border.light}`,display:"flex",flex:"1 0 auto",flexDirection:"column",alignItems:"center",backgroundColor:"white",position:"relative"})),_e=()=>{const{data:n}=ce(),[t,i]=W(r=>[r.flowSettings,r.globalSettings]),l=r=>[n.mountpath,"pages",r].join("/"),b=ne.map(r=>{const c=(t==null?void 0:t.elements)&&(t==null?void 0:t.elements[r]);if(c!=null&&c.show)return{title:c.heading,href:l(r),bold:r==="help"}}),v=i!=null&&i.footerContent?Object.entries(i==null?void 0:i.footerContent).map(([r,c])=>({title:c.heading,content:c.content,href:l(r)})):[],d=[...b,...v].filter(r=>!!r);return e.jsxs(s,{children:[e.jsx(we,{}),e.jsx(We,{items:[...d],children:e.jsxs(s,{display:"flex",alignItems:"center",children:[e.jsx(s,{pr:2,display:"flex",children:e.jsx("img",{src:ye,alt:"Open Government License Logo"})}),e.jsxs(u,{variant:"body2",children:["All content is available under the"," ",e.jsx(C,{href:"http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",color:"inherit",target:"_blank",children:"Open Government Licence v3"}),", except where otherwise stated"]})]})})]})},Me=({children:n})=>{const t=W(l=>l.teamTheme),i=K(t);return e.jsx(Q,{injectFirst:!0,children:e.jsxs(X,{theme:i,children:[e.jsx(oe,{}),e.jsx(Re,{children:e.jsx(ee,{FallbackComponent:ie,children:n})}),e.jsx(_e,{})]})})};export{Me as P};
